# ğŸš€ Render Quick Deploy - FactCheck Platform

## âš¡ **TL;DR - Deploy ngay trong 30 phÃºt**

```bash
# 1. Táº¡o deployment files
npm run deploy:render

# 2. Cháº¡y PowerShell helper (Windows)
./deploy-render.ps1

# 3. Deploy theo thá»© tá»± trÃªn Render Dashboard
```

## ğŸ“‹ **CÃ³ cáº§n Ä‘iá»u chá»‰nh nhiá»u khÃ´ng?**

### âœ… **KHÃ”NG cáº§n Ä‘iá»u chá»‰nh nhiá»u:**

1. **Code Ä‘Ã£ sáºµn sÃ ng**: Táº¥t cáº£ services Ä‘Ã£ cÃ³ health checks, CORS, environment handling
2. **Deployment files tá»± Ä‘á»™ng**: Script táº¡o sáºµn táº¥t cáº£ YAML configs
3. **Environment variables**: ÄÃ£ standardize vÃ  document Ä‘áº§y Ä‘á»§
4. **Build commands**: ÄÃ£ optimize cho Render platform

### ğŸ”§ **Chá»‰ cáº§n Ä‘iá»u chá»‰nh nhá»:**

1. **Environment Variables**: Copy tá»« `.env` local sang Render
2. **Service URLs**: Update sau khi deploy tá»«ng service
3. **API Keys**: Add vÃ o Render environment (optional)

## ğŸ¯ **Deployment Strategy**

### **Option 1: Monorepo (Recommended)**
- âœ… Keep current repository structure
- âœ… Deploy each service separately on Render
- âœ… Use generated YAML configs

### **Option 2: Split Repositories**
- âŒ More complex
- âŒ Need to maintain multiple repos
- âŒ Not recommended

## ğŸ“Š **Services Overview**

| Priority | Service | Type | Port | Render Name |
|----------|---------|------|------|-------------|
| 1 | Auth Service | Web | 3001 | factcheck-auth |
| 2 | Link Service | Web | 3002 | factcheck-link |
| 2 | Community Service | Web | 3003 | factcheck-community |
| 2 | Chat Service | Web | 3004 | factcheck-chat |
| 3 | News Service | Web | 3005 | factcheck-news |
| 3 | Admin Service | Web | 3006 | factcheck-admin |
| 3 | PhishTank Service | Web | 3007 | factcheck-phishtank |
| 3 | CriminalIP Service | Web | 3008 | factcheck-criminalip |
| 4 | API Gateway | Web | 8080 | factcheck-api-gateway |
| 5 | Frontend | Static | 3000 | factcheck-frontend |

## ğŸ”‘ **Environment Variables Checklist**

### **Minimal Required (Ä‘á»ƒ cháº¡y Ä‘Æ°á»£c):**
```bash
NODE_ENV=production
JWT_SECRET=(auto-generated by Render)
```

### **Firebase (cho auth, community, chat):**
```bash
FIREBASE_PROJECT_ID=your-project-id
FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----..."
FIREBASE_CLIENT_EMAIL=your-service@project.iam.gserviceaccount.com
```

### **API Keys (optional - cÃ³ thÃ¬ tá»‘t):**
```bash
GEMINI_API_KEY=your-key
VIRUSTOTAL_API_KEY=your-key
SCAMADVISER_API_KEY=your-key
NEWSAPI_API_KEY=your-key
PHISHTANK_API_KEY=your-key
CRIMINALIP_API_KEY=your-key
```

## ğŸš€ **Step-by-Step Deployment**

### **Step 1: Prepare**
```bash
npm run deploy:render  # Táº¡o deployment files
```

### **Step 2: Deploy Services (theo thá»© tá»±)**

1. **Auth Service** â†’ https://factcheck-auth.onrender.com
2. **Link Service** â†’ https://factcheck-link.onrender.com
3. **Community Service** â†’ https://factcheck-community.onrender.com
4. **Chat Service** â†’ https://factcheck-chat.onrender.com
5. **News Service** â†’ https://factcheck-news.onrender.com
6. **Admin Service** â†’ https://factcheck-admin.onrender.com
7. **PhishTank Service** â†’ https://factcheck-phishtank.onrender.com
8. **CriminalIP Service** â†’ https://factcheck-criminalip.onrender.com
9. **API Gateway** â†’ https://factcheck-api-gateway.onrender.com
10. **Frontend** â†’ https://factcheck-frontend.onrender.com

### **Step 3: Update Service URLs**

Sau khi deploy tá»«ng service, update environment variables:

```bash
# API Gateway environment
AUTH_SERVICE_URL=https://factcheck-auth.onrender.com
LINK_SERVICE_URL=https://factcheck-link.onrender.com
COMMUNITY_SERVICE_URL=https://factcheck-community.onrender.com
CHAT_SERVICE_URL=https://factcheck-chat.onrender.com
NEWS_SERVICE_URL=https://factcheck-news.onrender.com
ADMIN_SERVICE_URL=https://factcheck-admin.onrender.com
PHISHTANK_SERVICE_URL=https://factcheck-phishtank.onrender.com
CRIMINALIP_SERVICE_URL=https://factcheck-criminalip.onrender.com

# Frontend environment
REACT_APP_API_URL=https://factcheck-api-gateway.onrender.com
```

## âš ï¸ **Render Free Tier Limitations**

1. **Sleep after 15 minutes** - Services hibernate when inactive
2. **Cold start delay** - First request after sleep takes 30-60 seconds
3. **512MB RAM limit** - Per service
4. **Build time limit** - 20 minutes max
5. **No persistent storage** - Use external databases

## ğŸ‰ **Final Result**

Sau khi deploy xong:
- **Frontend**: https://factcheck-frontend.onrender.com
- **API**: https://factcheck-api-gateway.onrender.com
- **All services**: Running and connected

## ğŸ’¡ **Pro Tips**

1. **Deploy Auth first** - Other services depend on it
2. **Test each service** - Check `/health` endpoint
3. **Update URLs incrementally** - Don't change all at once
4. **Monitor logs** - Render provides real-time logs
5. **Use environment groups** - For shared variables

## ğŸ”§ **Troubleshooting**

### **Build Failures:**
- Check Node.js version (use 18.x)
- Verify package.json paths
- Check build logs for errors

### **Service Connection Issues:**
- Verify environment URLs
- Check CORS settings
- Test health endpoints

### **Frontend Issues:**
- Update REACT_APP_API_URL
- Check build output
- Verify static file serving

## ğŸ“š **Documentation Files**

- `RENDER_DEPLOYMENT_GUIDE.md` - Detailed guide
- `docs/deployment/render-*.yaml` - Individual service configs
- `deploy-render.ps1` - PowerShell helper script
- `.env.example` - Environment template

**Káº¿t luáº­n: Deployment trÃªn Render ráº¥t Ä‘Æ¡n giáº£n, chá»‰ cáº§n 30 phÃºt vÃ  khÃ´ng cáº§n Ä‘iá»u chá»‰nh code nhiá»u!**
